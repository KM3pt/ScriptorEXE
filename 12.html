<!-- 12@Viatecla                           
     by               
     KM3 (pt_2015) -->
<html>

<head>
	<script src="http://code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<script>
        
		//executa após load page
        $( document ).ready(function() {  	
	  		
            $.ajax({
                url: 'http://dev.scriptor.viatecla.pt/training/REST/contentlistconditional',
                data: { authentication: 'anonymous', channelPath: '/raiz/repositorio/foto', first: '0', max: '-1', fieldlist: '*', sort: 'dte_init,desc'},
                async: false,
                dataType: 'json',
                success: function (responseText) {
                    var content = responseText.content;
                     
                    //loop que percorre o ficheiro JSon
                    $.each(content, function (i, item) {
                        
                        //#main referência ao ID da div que está no body
                        //.apend insere o conteúdo pelos seguintes parametros
                        $("#main").append("<div class='col-sm-2 col-md-4 col-lg-8'>" + "<img src='" + item.Foto.ficheiro + "' class='img-responsive'>" + "</a>" + "</div>" + "</div>");
                    });
        		}
            });
		});
	</script>
</head>
<body>
<div class="container">
    
    <!-- estrutura html -->
    <div class="row" id="main">
    </div>
</div>
</body>
</html>
